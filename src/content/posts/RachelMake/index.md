---
title: 复刻 Rachel游戏机
published: 2025-09-10
description: 复刻 @-海底撩- 的迷你掌机~
tags: [ZMK, Keyboard]
image: "https://pic1.imgdb.cn/item/68d3a332c5157e1a882cad57.png"
category: DIY
draft: false
---


## Rachel复刻记录

Github 链接：https://github.com/Forairaaaaa/Rachel

原版硬件链接：https://oshwhub.com/eedadada/mason

改版硬件链接：https://oshwhub.com/vaan/rachel-kai-yuan-mi-ni-you-xi-ji

Bilibili演示视频：https://www.bilibili.com/video/BV1Ga4y1f7d3

## 前期准备

前期准备需要准备好工具、PCB电路板、电子元器件。

### 工欲善其事必先利其器

在一切开始前，一定要备好所有的工具，包括：

- 趁手的配有马蹄头电烙铁，用来后续处理元件焊接。
- 加热台，用来铁板烧大面积的贴片元件。
- 热风枪：如果你使用的改版硬件，那么那颗ESP32-1u的模块你只能通过热风枪去焊接。
- 焊锡丝：我推荐使用价格稍微高点的，尽量不要用买烙铁送的（送的一般都很难焊好看，对焊接质量没有要求的可以忽略）
- 锡膏：我使用的是中低温焊锡膏，用于铁板烧。
- 助焊剂：神器，用来处理贴片元件连锡的情况特别有用，比如说Typec口的焊接。
- 万用表：用来debug，检查电路焊接。

### 一堆乱七八糟的元件

购买待焊接的元件是一个需要权衡时间和财力的tradeoff过程。你可以选择在嘉立创一键下单，也可以选择自己从淘宝里面去一个个找。前者方便无脑，但价格可能会略微上升一点；后者则是需要你费神到处搜罗、比对器件型号。我的做法是：芯片、大件一点的元器件就自己买（比如说主控芯片、屏幕等）。这里我推荐去优信电子去买屏幕（1.3寸TFT 240x240），BMI270的陀螺仪芯片也可以在他这买，但会稍微贵一点（我买的时候是2.7一颗，但我看到有其他店1.x就有）。

### 电路板！电路板！电路板！

PCB制造厂商需要一个Gerber.zip的制板文件来制作PCB板。你可以选择你喜欢的PCB制造商，我现在用过两家：

- 嘉立创：价格略微贵点，但制板质量还可以。需要注意的是如果你对PCB的外观条件有要求，不希望添加生产编号、或者产品信息的二维码时
- 捷配：免费打样很香，但这个项目用的四层板要企业认证用户才可以免费打样。但是即便如此，不使用免费打样并选择打样3片时，它也会大概率给你发5片过来，小赚也是赢！

我使用了ESP321u模组去做，这个模组比原作者的那个要便宜很多，差不多22块钱吧，原版那个stack模组要70+了现在。

![Top](https://pic1.imgdb.cn/item/68d3aa7bc5157e1a882cc294.png)

![Bottom](https://pic1.imgdb.cn/item/68d3af79c5157e1a882cc4a2.png)



哦对了，PCB打样的电路板厚度最好是选1.00mm，如果你选错了也没关系，你可以下载Fustion360去修改里面的底壳承托PCB的柱的高度。

还有一点需要注意的是，到货时一定要检查一下PCB有没有自身存在的缺陷问题！尤其是检查屏幕排线的引脚是否正常，我就时这么倒霉选了一块有问题的去焊接，固件成功烧录后发现屏幕只有微弱背光，到最后检查问题才发现RST引脚直接接地了，无语...

## 焊接的简易指南

如果你用的是我那个版本的，那么你可以在这里使用交互式BOM进行贴片。取出你的焊锡膏，对除了屏幕引脚的区域其他位置焊盘都均匀的上一些锡膏/锡浆。我在南方室内温度27°时，锡膏的型态主要还是固态，只要控制好锡膏在焊盘上的量即可。

### 铁板烧：

我推荐是屏幕这一面进行铁板烧，这里包含了绝大多数的元件：

![InteractBom](https://pic1.imgdb.cn/item/68d3b202c5157e1a882cc58d.png)

在焊接时，你可以勾选左边的checkbox来确认元件已摆放至PCB。当这一面的元件（除了屏幕）都放好后，将其放置在加热台上，并开始加热。这个过程会有一些难闻的味道释放（其实是添加在锡膏里面的助焊剂蒸发的味道），需要注意通风。这个交互式BOM表可以在这里进行访问哦。

### 芯片与typec母座

完成这一面的焊接后，将板子反过来，接下来主要就是焊接Typec母座和主控芯片了。其实步骤也是一样的，依然是在焊盘上挤上锡膏，但这次使用热风枪去吹。注意，芯片看上去似乎很难焊接，但其实只要你的锡膏不要给太少，基本不会有问题（是的，很难出现连锡的情况，反而是锡加的不够多）。TypeC的焊接就更简单了，你可以肉眼观察到是否有引脚会有连锡的情况，如果有的话也不用担心，在焊接完成后，在有连锡的情况的引脚挤上一点点的助焊膏，然后用刀头烙铁沿着引脚的方向往外刮，你会发现连锡的地方消失了，就是这么简单。

### 屏幕

屏幕的焊接有一些小技巧。我的焊接方法是这样的：PCB上的屏幕引脚挤上锡膏，但挤锡膏的方向和排线引脚方向垂直，也就是类似一个“拖”的动作把每个引脚都上一部分锡。这一步完成后，将屏幕的金手指对准PCB上的焊盘引脚，然后用刀头烙铁轻触两个边角的位置让金手指和焊盘通过锡连接起来固定住，随后对剩余的引脚都是这样操作。主义观察有没有连锡的情况，如果有的话，加一点助焊剂然后拖动刀头往外把多余的锡刮走。

## 固件烧录

固件烧录前你可以做一些简单的焊接检查。你可以先插上USB线，观察LED1的绿灯是否有亮，如果没亮，说明你TypeC存在焊接问题；如果亮了，那么恭喜你，至少你的TypeC的VBUS焊接是正常的~接下来你可以尝试烧录固件了。烧录的工具你可以在乐鑫的官网找到，固件可以选择使用我编译的固件，也可以自己编译。这里最大的问题是：你无法烧录固件，我们现在来分析一下这个问题。

### 电脑识别不到设备/串口

识别不到设备就是说明你的焊接有问题，你需要做的是检查Typc的`D-`和`D+`引脚和芯片之间的连接是否正常（我选中的泛白的部分）：

![TypeC](https://pic1.imgdb.cn/item/68d3c545c5157e1a882cce78.png)

### 可以识别设备，但是烧录bin没反应

在烧录软件中，你需要使用这样的配置：

![step1](https://pic1.imgdb.cn/item/68d3c584c5157e1a882cceb4.png)

![step2](https://pic1.imgdb.cn/item/68d3c5bcc5157e1a882cced6.png)

### 哎卧槽我烧录显示成功了但屏幕不亮

这是个非常神秘的问题！遇到这个情况就需要你拿万用表去检测屏幕排线。我遇到的情况是制板问题，RST引脚接到地了，导致屏幕只有非常微弱的背光显示。**背光（BL/ LEDK/ LED-）** 是一个相对独立的电路。通常只需要给它供电（比如接3.3V）和地（比如通过一个限流电阻接地），背光LED就会亮。所以背光亮了，至少说明屏幕的背光部分和基础供电可能没问题。我们使用的屏幕使用的驱动是ST7789(V)，**不显示图像** 意味着主驱动芯片ST7789没有正确接收到数据或无法工作。问题大概率出在：**电源、复位、通信总线（SPI）、关键控制引脚** 的焊接上。

- RST引脚通常是**低电平复位**。也就是说，在初始化时，单片机需要先将其拉低一段时间（如10ms），然后置为高电平。如果RST引脚根本没有连接到单片机，它可能处于**悬空（Floating）** 状态。悬空的引脚电平不确定，可能导致芯片一直处于复位状态而无法工作。
- 主电源引脚通常是3.3V。用万用表测量这个引脚和 **GND** 之间的电压，确认是否是稳定的 **3.3V** 左右。

一般来说主要排查这两项即可。另外一种屏幕不亮的情况就是，FPC软排线弯折程度过大导致屏幕没有正常点亮。这个大概率是屏幕焊接不到位导致的，重新补一点焊锡就好。

## 3D打印外壳

### 配色选择

配色选择真的烦死了！我的白色材料是点维的，特别容易翘边， 黑色用的是大简的PLA哑光，打印效果非常好。其实也可以考虑使用透明壳体的，但是我觉得里面的电路板画的不是特别好看，所以还是不选用透明了。看看最终成品吧！

![](https://pic1.imgdb.cn/item/6978c3a89ca240b15f5cf7c7.jpg)

### 打印参考

## 代码编译

OK，我要说一个事儿：作者给的代码有一些地方是有问题的，我不知道是作者留给读者的思考题还是版本更新但没有同步，总之我把修复的代码给放到我的Github仓库了，你可以直接下载并在VSCode中使用PlatformIO插件进行配置、构建、烧录固件的操作。

